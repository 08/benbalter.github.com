{"author":"Benjamin J. Balter","title":"GW Course Schedule and Campus API","excerpt":"George Washington University recently released an iPhone app that allows students to look up the course schedule and each course's open/closed status as well as browse an interactive map of the campus. Below you can find the details on GW's course schedule and campus map API endpoints, as well as an API wrapper to interact with it written in PHP.","layout":"post","category":["Technology"],"tags":["api","code","gw","hack","open source"],"post_format":[],"url":"/2011/01/25/gw-course-schedule-and-campus-api/","date":"2011-01-25 00:00:00 -0500","id":"/2011/01/25/gw-course-schedule-and-campus-api","categories":["posts"],"next":"![][1]Violating due process is one thing, but violating web standards… well that's another story.\n\nThe Department of Homeland Security (DHS) recently began protecting America's shores from threats of a different kind: online copyright infringement. In the days before the Superbowl, the agency set out to enforce the \"express written consent of the NFL\" provision attached to most broadcasts by slamming the iron fist of the law down on [six sports-streaming websites][2]. This is troubling on multiple levels. As the Vololkh Conspiracy's David Post [put it][3]:\n\n> There's a good reason we don't generally allow agents of the State to march into judge's chambers and deprive people of their property without an adversary hearing, viz., they're likely to make errors that can be difficult to correct ex post.\n\nAnd that's exactly what happened when the Feds [seized riojadirecta.org][4].However, the law in the area is a bit more nuanced than a single form can satisfy. Riojadirecta did not actually host any infringing content — it merely aggregated links to such content — potentially invoking the safe harbor provisions of the copyright act. [^1] Compounding the issue, Spanish Courts had found the Spanish-based site to be [perfectly legal][6], just a few months prior.\n\nSeizures of this type are nothing new. Back in November, DHS [commandeered][7] some [80 bit torrent domains][8] (PDF) as part of the broader \"[Operation In Our Sites][9]\". One such site, dajaz1.com, a music blog dedicated to hip-hop, was claimed to have infringed on music copyrights, however it was later revealed that the [music in question was provided to the site by music industry executives][10]. Despite this revelation, DHS made no apparent move to look into the case or restore the domain, and [the site remains down][11] to this day.\n\nPart of the problem may stem from law enforcement being out of touch with today's trends. Even the agent in charge of the investigation [referred to the infringing material as \"a bit torrent,\"][12] suggesting a sophomoric understand of just what exactly was being seized.\n\nMore worrisome, however, is the fact that the statute cited to authorize such seizures, 18 U.S.C. § 2323, provides no safeguard to prevent such errors from occurring [^2] nor does it [prohibit its expanded use][14]. [^3] As Sen. Ron Wyden (D-OR) [argued][16]:\n\n> In contrast to ordinary copyright litigation, the domain name seizure process does not appear to give targeted websites an opportunity to defend themselves before sanctions are imposed… I worry that domain name seizures could function as a means for end-running the normal legal process in order to target websites that may prevail in full court. The new enforcement approach used by Operation In Our Sites is alarmingly unprecedented in the breadth of its potential reach.\n\nEven looking beyond the due process issues and to the underlying copyright infringement, simply put, the government's efforts fail to solve the problem. In Riojadirecta's case, for example, the site [used Twitter][17] to [direct users to one of its five other domains][4] rending the seizure a moot point. The problem is that the government is not seizing the infringing material, but rather, an [alias for the network address][18] of a site that in many cases, only contains links to infringing material. It would be as if DHS seized my cell phone number because my friends could use it to call and find out the location of a weekly poker game — the game would still take place, I would just get a new phone number.\n\nThe most upsetting part, at least for the web developer in me, has to be [the seizure notice][19] itself. Putting text in images like that has to be up there with [using Comic Sans][20]. While I do not expect DHS to hire a legion of designers and developers to make an HTML5 seizure notice (although that would be awesome), some in-document text would go a long way to making the web a whole lot less ugly. [^4] Additionally, it looks like their policy has changed since the initial seizures, however, at least as late as November, DHS was [placing Google Analytics and Piwik tracking codes on its seized domains][22], arguably in violation of [OMB memorandum M-10-22][23] (PDF).\n\nAs seen in the recent [Wikileaks domain shell game][24], its clear that domain servers are the weak link in the online content-delivery chain. When the state can no longer seize something that represent the forefront of our ability to communicate with one another (decentralized information sharing) and replace it with a technology the web collectively deprecated with the rise of CSS1 (sites which rely on .GIFs to render text), legality and politics aside, the internet will undoubtedly be a better place.\n\nNotes:\n\n[^1]: 17 U.S.C. § 512(d). [25]\n[^2]: The relevant provisions of § 2323 allow for the forfeiture of \"(A) Any article, the making or trafficking of which is, prohibited under section 506 of title 17″ prohibiting \"willful copyright infringement\" and \"(B) Any property used, or intended to be used, in any manner or part to commit or facilitate the commission of an offense referred to in subparagraph (A).\" [26]\n[^3]: As [Post noted back then][27], and even more relevant now in light of Egypt's recent flipping of its internet kill switch, \"our ability to defend the principle of the single global Internet – the Internet where all of humanity has equal access to knowledge and ideas, the Internet that looks the same to, and allows free and unfettered communication between, users located in Shanghai and Seattle and Santiago, free of locally imposed censorship regimes – will be deeply compromised by [seizures of this kind], which would enshrine in U.S. law for the first time the contrary principle: that all countries have a right to insist on the removal of content, wherever located, from the global Internet in service of the exigencies of local law.\" (Quoting a [letter he authored][27] criticizing the Senate's Combating Online Infringements and Counterfeits Act). [28]\n[^4]: Beyond being reminiscent of Geocities (and most of the 90s), text in images is not machine readable, a requirement of section 508 (codified at 29 U.S.C. § 794(d)) . That means that neither screen readers nor search engines can accurately parse the site's content. [29]\n\n [1]: http://ben.balter.com/wp-content/uploads/2011/02/IPRC_Seized_2010_11-300x225.gif \"DHS Seizure Notice\"\n [2]: http://itwel.com/atdhe-live-sports-streaming-website-seized-by-us-authorities.php\n [3]: http://volokh.com/2011/02/02/more-outrageous-domain-name-seizures-by-our-vigilant-dept-of-homeland-security/\n [4]: http://www.huffingtonpost.com/2011/02/02/rojadirecta-org-seized_n_817458.html\n [5]: #note-2020-1 \"17 U.S.C. § 512(d).\"\n [6]: http://torrentfreak.com/sports-streaming-torrent-links-site-victorious-in-court-100510/\n [7]: http://torrentfreak.com/u-s-government-seizes-bittorrent-search-engine-domain-and-more-101126/\n [8]: http://www.ice.gov/doclib/news/releases/2010/domain_names.pdf\n [9]: http://www.ice.gov/news/releases/1006/100630losangeles.htm\n [10]: http://www.nytimes.com/2010/12/20/business/media/20music.html?_r=1&ref=todayspaper\n [11]: http://dajaz1.com/\n [12]: http://arstechnica.com/tech-policy/news/2010/12/busting-bittorrent.ars\n [13]: #note-2020-2 \"The relevant provisions of § 2323 allow for the forfeiture of \"(A) Any article, the making or trafficking of which is, prohibited under section 506 of title 17″ prohibiting \"willful copyright infringement\" and \"(B) Any property used, or intended to be used, in any manner or part to commit or facilitate the commission of an offense referred to in subparagraph (A).\"\"\n [14]: http://www.copyhype.com/2011/02/can-google-be-seized-by-ice/\n [15]: #note-2020-3 \"As Post noted back then, and even more relevant now in light of Egypt's recent flipping of its internet kill switch, \"our ability to defend the principle of the single global Internet – the Internet where all of humanity has equal access to knowledge and ideas, the Internet that looks the same to, and allows free and unfettered communication between, users located in Shanghai and Seattle and Santiago, free of locally imposed censorship regimes – will be deeply compromised by [seizures of this kind], which would enshrine in U.S. law for the first time the contrary principle: that all countries have a right to insist on the removal of content, wherever located, from the global Internet in service of the exigencies of local law.\" (Quoting a letter he authored criticizing the Senate's Combating Online Infringements and Counterfeits Act).\"\n [16]: http://arstechnica.com/tech-policy/news/2011/02/senator-us-domain-name-seizures-alarmingly-unprecedented.ars?utm_source=rss&utm_medium=rss&utm_campaign=rss\n [17]: http://twitter.com/#!/rojadirecta/status/32348722188779520\n [18]: http://en.wikipedia.org/wiki/Domain_name\n [19]: http://dajaz1.com/IPRC_Seized_2010_11.gif\n [20]: http://bancomicsans.com/\n [21]: #note-2020-4 \"Beyond being reminiscent of Geocities (and most of the 90s), text in images is not machine readable, a requirement of section 508 (codified at 29 U.S.C. § 794(d)) . That means that neither screen readers nor search engines can accurately parse the site's content.\"\n [22]: http://qbit.cc/homeland-security-tracking-visits-to-seized-domains-using-google-analytics-and-piwik/\n [23]: http://www.whitehouse.gov/sites/default/files/omb/assets/memoranda_2010/m10-22.pdf\n [24]: http://gawker.com/#!5704966/wikileaks-loses-its-domain\n \n \n [27]: http://volokh.com/2010/12/01/copyright-enforcement-tail-wags-internet-dog-contd-or-what-the-hell-ever-happened-to-due-process/","previous":"<p><img alt='' src='http://ben.balter.com/wp-content/uploads/2011/01/emphasis-screenshot.png' />The New York Times <a href='http://open.blogs.nytimes.com/2011/01/11/emphasis-update-and-source/'>recently open-sourced</a> their nifty wizardry which allows users to highlight and link to specific text within an article or post. In their own words:</p>\n\n<blockquote>\n<p>Emphasis provides dynamic paragraph-specific anchor links and the ability to highlight text in a document, all of which is made available in the URL hash so it can be emailed, bookmarked, or shared.</p>\n</blockquote>\n\n<p>I adapted the New York Time&#8217;s implementation into a three-line WordPress plugin for my own site, and it is available in the <a href='http://wordpress.org/extend/plugins/wp-emphasis/'>WordPress plugin repository</a> as a one-click install, if you would like to add it to your own.</p>\n\n<p>The &#8220;deep links&#8221; plugin allows for permalinking and highlighting of text on a paragraph and sentance level. No need to set anything up. Just install, tap shift twice, and start highlighting.</p>\n\n<p><em>See</em> <a href='http://open.blogs.nytimes.com/2011/01/11/emphasis-update-and-source/'>The New York Times post on the script</a> for syntax and more information on general usage or you can double tap the <em>shift</em> key right now to give it a try.</p>\n\n<p>Neat, huh? <a href='http://wordpress.org/extend/plugins/wp-emphasis/'>Download it</a> today.</p>\n\n<p><em>Enjoy using WP Emphasis? Feel free to <a href='http://ben.balter.com/donate/' title='Donate'>make a small donation</a> to support the software&#8217;s continued development.</em></p>\n\n<p><strong>Update (1/18):</strong> For an interesting perspective on the underlying technology and what it could mean for the net, <a href='http://zachseward.com/emphasis/'>Zach Seward&#8217;s take</a> is well worth the read.</p>","content":"<p><img alt='' src='http://ben.balter.com/wp-content/uploads/2011/01/1430289931_beb7ff6428_b-300x225.jpg' />George Washington University recently released an <a href='http://acadtech.gwu.edu/pages/gwmobile'>iPhone app</a> that allows students to look up the course schedule and each course&#8217;s open/closed status as well as browse an interactive map of the campus. Naturally, upon installing the app, the first thing to do is to try and ferret out the underlying XML API that powers it, a simple enough task given <a href='http://blog.jerodsanto.net/2009/06/sniff-your-iphones-network-traffic/'>the right tools</a>.</p>\n\n<p>Below you can find the details on GW&#8217;s course schedule and campus map API endpoints, as well as an API wrapper to interact with it written in PHP. Feel free to grab the code below, or fork and contribute in the <a href='https://github.com/benbalter/GW-API'>GitHub repo</a>. Cool data that deserves to be shared with the world, no doubt.</p>\n\n<p>Creative ideas on how best to leverage the information welcome in the <a href='#comments'>comments below</a>.</p>\n\n<p><em>Please Note: I am not a GW employee, nor is use of the API explicitly authorized by the University. The code below is provided &#8220;as is&#8221; solely for educational purposes. If for any reason you would like this page removed, please <a href='http://ben.balter.com/contact/'>contact me</a> immediately and I will do so.</em></p>\n<hr />\n<h2 id='course_schedule'>Course Schedule</h2>\n\n<ol>\n<li>\n<p>Departments 1. Endpoint 1. <code>http://my.gwu.edu/mod/pws/scheduleXML.cfm</code> 2. Parameters 1. <code>termCode=[YYYY][01=spring, 02=summer, 03=fall]</code> 3. Returns</p>\n\n<pre><code>&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;iso-8859-1&amp;quot; ?&amp;gt;\n&amp;lt;departments&amp;gt;\n    &amp;lt;department&amp;gt;\n        &amp;lt;departmentcode&amp;gt;&amp;lt;![CDATA[ACCY]]&amp;gt;&amp;lt;/departmentcode&amp;gt;\n        &amp;lt;departmentname&amp;gt;&amp;lt;![CDATA[Accountancy]]&amp;gt;&amp;lt;/departmentname&amp;gt;\n    &amp;lt;/department&amp;gt;\n    &amp;lt;department&amp;gt;\n        &amp;lt;departmentcode&amp;gt;&amp;lt;![CDATA[AH]]&amp;gt;&amp;lt;/departmentcode&amp;gt;\n        &amp;lt;departmentname&amp;gt;&amp;lt;![CDATA[Art/Art History]]&amp;gt;&amp;lt;/departmentname&amp;gt;\n    &amp;lt;/department&amp;gt;\n&amp;lt;/departments&amp;gt;</code></pre>\n</li>\n\n<li>\n<p>Courses 1. Endpoint 1. <code>http://my.gwu.edu/mod/pws/scheduleXML.cfm</code> 2. Parameters 1. <code>termCode=[YYYY][01=spring, 02=summer, 03=fall]</code> 2. <code>deptCode=[Dept. Code]</code> 3. Returns</p>\n\n<pre><code>&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;iso-8859-1&amp;quot; ?&amp;gt;\n    &amp;lt;courses&amp;gt;\n        &amp;lt;course&amp;gt;\n            &amp;lt;coursedepartment&amp;gt;&amp;lt;![CDATA[ACCY]]&amp;gt;&amp;lt;/coursedepartment&amp;gt;\n            &amp;lt;coursenumber&amp;gt;&amp;lt;![CDATA[6101]]&amp;gt;&amp;lt;/coursenumber&amp;gt;\n            &amp;lt;coursecrn&amp;gt;&amp;lt;![CDATA[55164]]&amp;gt;&amp;lt;/coursecrn&amp;gt;\n            &amp;lt;coursetitle&amp;gt;&amp;lt;![CDATA[FinAcctingI:BasicFinStatements]]&amp;gt;&amp;lt;/coursetitle&amp;gt;\n            &amp;lt;courseinstructor&amp;gt;&amp;lt;![CDATA[ Singleton, L]]&amp;gt;&amp;lt;/courseinstructor&amp;gt;\n            &amp;lt;courselocation&amp;gt;&amp;lt;![CDATA[&amp;lt;A HREF=&amp;quot;http://www.gwu.edu/~map/building.cfm?BLDG=DUQUES&amp;quot; target=&amp;quot;_blank&amp;quot; &amp;gt;DUQUES&amp;lt;/a&amp;gt; 258]]&amp;gt;&amp;lt;/courselocation&amp;gt;\n            &amp;lt;coursedays&amp;gt;&amp;lt;![CDATA[MW 06:10PM - 09:05PM]]&amp;gt;&amp;lt;/coursedays&amp;gt;\n            &amp;lt;coursetime&amp;gt;&amp;lt;![CDATA[]]&amp;gt;&amp;lt;/coursetime&amp;gt;\n            &amp;lt;coursestatus&amp;gt;&amp;lt;![CDATA[OPEN]]&amp;gt;&amp;lt;/coursestatus&amp;gt;\n            &amp;lt;coursesection&amp;gt;&amp;lt;![CDATA[81]]&amp;gt;&amp;lt;/coursesection&amp;gt;\n            &amp;lt;coursecredit&amp;gt;&amp;lt;![CDATA[1.50  ]]&amp;gt;&amp;lt;/coursecredit&amp;gt;\n        &amp;lt;/course&amp;gt;\n        &amp;lt;course&amp;gt;\n            &amp;lt;coursedepartment&amp;gt;&amp;lt;![CDATA[ACCY]]&amp;gt;&amp;lt;/coursedepartment&amp;gt;\n            &amp;lt;coursenumber&amp;gt;&amp;lt;![CDATA[6102]]&amp;gt;&amp;lt;/coursenumber&amp;gt;\n            &amp;lt;coursecrn&amp;gt;&amp;lt;![CDATA[55165]]&amp;gt;&amp;lt;/coursecrn&amp;gt;\n            &amp;lt;coursetitle&amp;gt;&amp;lt;![CDATA[Fin Accting II: FinAcc Choices]]&amp;gt;&amp;lt;/coursetitle&amp;gt;\n            &amp;lt;courseinstructor&amp;gt;&amp;lt;![CDATA[ Tarpley, R]]&amp;gt;&amp;lt;/courseinstructor&amp;gt;\n            &amp;lt;courselocation&amp;gt;&amp;lt;![CDATA[&amp;lt;A HREF=&amp;quot;http://www.gwu.edu/~map/building.cfm?BLDG=DUQUES&amp;quot; target=&amp;quot;_blank&amp;quot; &amp;gt;DUQUES&amp;lt;/a&amp;gt; 258]]&amp;gt;&amp;lt;/courselocation&amp;gt;\n            &amp;lt;coursedays&amp;gt;&amp;lt;![CDATA[MW 06:10PM - 09:05PM]]&amp;gt;&amp;lt;/coursedays&amp;gt;\n            &amp;lt;coursetime&amp;gt;&amp;lt;![CDATA[]]&amp;gt;&amp;lt;/coursetime&amp;gt;\n            &amp;lt;coursestatus&amp;gt;&amp;lt;![CDATA[OPEN]]&amp;gt;&amp;lt;/coursestatus&amp;gt;\n            &amp;lt;coursesection&amp;gt;&amp;lt;![CDATA[80]]&amp;gt;&amp;lt;/coursesection&amp;gt;\n            &amp;lt;coursecredit&amp;gt;&amp;lt;![CDATA[1.50  ]]&amp;gt;&amp;lt;/coursecredit&amp;gt;\n        &amp;lt;/course&amp;gt;\n    &amp;lt;/courses&amp;gt;</code></pre>\n</li>\n</ol>\n\n<h2 id='campus_map'>Campus Map</h2>\n\n<ol>\n<li>\n<p>Categories 1. Endpoint 1. <code> http://citl.gwu.edu/iphonedev/maps/categories.xml </code> 2. Returns</p>\n\n<pre><code>&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot;?&amp;gt;\n&amp;lt;categories xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;&amp;gt;\n    &amp;lt;category&amp;gt;\n        &amp;lt;categoryId&amp;gt;1&amp;lt;/categoryId&amp;gt;\n        &amp;lt;shortname&amp;gt;academic&amp;lt;/shortname&amp;gt;\n        &amp;lt;categoryName&amp;gt;Academic&amp;lt;/categoryName&amp;gt;\n        &amp;lt;state&amp;gt;Yes&amp;lt;/state&amp;gt;\n    &amp;lt;/category&amp;gt;\n    &amp;lt;category&amp;gt;\n        &amp;lt;categoryId&amp;gt;2&amp;lt;/categoryId&amp;gt;\n        &amp;lt;shortname&amp;gt;administrative&amp;lt;/shortname&amp;gt;\n        &amp;lt;categoryName&amp;gt;Administrative&amp;lt;/categoryName&amp;gt;\n        &amp;lt;state&amp;gt;Yes&amp;lt;/state&amp;gt;\n    &amp;lt;/category&amp;gt;\n&amp;lt;/categories&amp;gt;</code></pre>\n</li>\n\n<li>\n<p>Buildings 1. Endpoint 1. <code>http://citl.gwu.edu/iphonedev/maps/[shortname].xml</code> 2. Returns</p>\n\n<pre><code>&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot;?&amp;gt;\n&amp;lt;buildings xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;&amp;gt;\n    &amp;lt;building&amp;gt;\n        &amp;lt;buildingNumber&amp;gt;153&amp;lt;/buildingNumber&amp;gt;\n        &amp;lt;campus&amp;gt;Foggy Bottom&amp;lt;/campus&amp;gt;\n        &amp;lt;UsageClassification&amp;gt;Academic&amp;lt;/UsageClassification&amp;gt;\n        &amp;lt;buildingName&amp;gt;1776 G St&amp;lt;/buildingName&amp;gt;\n        &amp;lt;address&amp;gt;1776 G St&amp;lt;/address&amp;gt;\n        &amp;lt;geoLocation&amp;gt;38.897984,-77.04146&amp;lt;/geoLocation&amp;gt;\n        &amp;lt;shortname&amp;gt;NA&amp;lt;/shortname&amp;gt;\n        &amp;lt;picturelink&amp;gt;http://www.gwu.edu/~newsctr/mobile/images/maps/1776-G-ST_UP_WLA_2010-6618.jpg&amp;lt;/picturelink&amp;gt;\n    &amp;lt;/building&amp;gt;\n    &amp;lt;building&amp;gt;\n        &amp;lt;buildingNumber&amp;gt;136&amp;lt;/buildingNumber&amp;gt;\n        &amp;lt;campus&amp;gt;Foggy Bottom&amp;lt;/campus&amp;gt;\n        &amp;lt;UsageClassification&amp;gt;Academic&amp;lt;/UsageClassification&amp;gt;\n        &amp;lt;buildingName&amp;gt;1957 E St&amp;lt;/buildingName&amp;gt;\n        &amp;lt;address&amp;gt;1957 E St&amp;lt;/address&amp;gt;\n        &amp;lt;geoLocation&amp;gt;38.896193,-77.044294&amp;lt;/geoLocation&amp;gt;\n        &amp;lt;shortname&amp;gt;1957E&amp;lt;/shortname&amp;gt;\n        &amp;lt;picturelink&amp;gt;http://www.gwu.edu/~newsctr/mobile/images/maps/Elliot_School_UP_WLA_2010-3102.jpg&amp;lt;/picturelink&amp;gt;\n    &amp;lt;/building&amp;gt;\n&amp;lt;/buildings&amp;gt;</code></pre>\n</li>\n</ol>\n\n<h2 id='api_wrapper'>API Wrapper</h2>\n\n<ol>\n<li>\n<p>Source class gw_api {</p>\n\n<pre><code>    public function __construct() {\n\n        //configuration settings\n        $this-&amp;gt;user_agent = &#39;Mozilla/5.0 (iPhone; U; CPU iPhone OS 4_0 like Mac OS X; en-us) AppleWebKit/532.9 (KHTML, like Gecko) Version/4.0.5 Mobile/8A293 Safari/6531.22.7&#39;;\n        $this-&amp;gt;maps_base = &#39;http://citl.gwu.edu/iphonedev/maps/&#39;;\n        $this-&amp;gt;schedule_base = &#39;http://my.gwu.edu/mod/pws/scheduleXML.cfm&#39;;\n    }\n\n    public function get_url($url) {\n\n        //prefer the WP HTTP API to allow for caching and user agent spoofing, fall back if necessary\n        if ( function_exists( &#39;wp_remote_get&#39;) )\n            $data = wp_remote_retrieve_body( wp_remote_get($url, array(&#39;user-agent&#39; =&amp;gt; $this-&amp;gt;user_agent) ) );\n        else\n            $data = file_get_contents($url);\n\n        //parse the XML into a PHP object\n        $xml = simplexml_load_string($data, &#39;SimpleXMLElement&#39;, LIBXML_NOCDATA);\n\n        return $xml;\n    }\n\n    public function get_map($category = &#39;categories&#39;) {\n        return $this-&amp;gt;get_url($this-&amp;gt;maps_base . $category . &#39;.xml&#39;);\n    }\n\n    public function get_schedule($year = &#39;&#39;, $term =&#39;&#39;, $dept = &#39;&#39;){\n\n        //if no year was given, assume the current year\n        if ($year == &#39;&#39;)\n            $year = date(&#39;Y&#39;);\n\n        //if no term is given, calculate the current term\n        if ($term == &#39;&#39;)\n            $term = $this-&amp;gt;get_term();\n\n        //form URL and call\n        return $this-&amp;gt;get_url($this-&amp;gt;schedule_base . &#39;?termCode=&#39; . $year . $term . &#39;&amp;amp;deptCode=&#39; . $dept);\n    }\n\n    public function get_term() {\n\n        //get the current month as 01-12\n        $m = date(&#39;M&#39;);\n\n        //if it is jan. - april, we&#39;re in the spring\n        if ($m &amp;lt; 5)\n            return &#39;01&#39;;\n\n        //if it&#39;s May - August, we&#39;re in the summer\n        else if ($m &amp;lt; 9) {\n            return &#39;02&#39;;\n        }\n\n        //otherwise, it&#39;s fall\n        else return &#39;03&#39;;\n    }\n\n}</code></pre>\n</li>\n\n<li>\n<p>Usage 1. Initialize $gwapi = new gw_api;</p>\n\n<ol>\n<li>\n<p>List Departments $departments = $gwapi-&#62;get_schedule(); foreach ($departments as $department) echo $department-&#62;departmentname . &#8217;&#60;br /&#62;&#8217;;</p>\n</li>\n\n<li>\n<p>Get Course Schedule for Fall 2011 $courses = $gwapi-&#62;get_schedule(&#8216;2011&#8217;,&#8217;03&#8217;,&#8217;ACCY&#8217;);</p>\n</li>\n\n<li>\n<p>Get Course Schedule for current term $courses = $gwapi-&#62;get_schedule(null,null,&#8217;ACCY&#8217;);</p>\n</li>\n\n<li>\n<p>Get map categories $categories = $gwapi-&#62;get_map();</p>\n</li>\n\n<li>\n<p>Get Buildings $buildings = $gwapi-&#62;get_maps(&#8216;academic&#8217;);</p>\n</li>\n</ol>\n</li>\n</ol>\n\n<p><span>Photo: <a href='http://www.flickr.com/photos/atomicbartbeans/1430289931/'>atomicbartbeans</a></span></p>"}